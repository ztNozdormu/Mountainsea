## ocw-currency-price pallet desc
  离线工作机 处理数字通证价格
## design

  ### 简介
     1. 设计目标
      去中心化大数据分析平台
        1. 金融数据分析
            - token通证金融分析
            - 股票等金融数据分析
        2. 物联网数据分析
        3. 其他数据(补充)    


  ### 一、 功能设计：

              1. 维护实时的以及历史TOKEN价格数据
                  - 数据采集
                    1. 设计一个链下工作机,部署采集者节点，采集者节点负责开启数据采集链下工作机采集各大平台(中心化去中心化交易所价格)TOKEN数据(包括NFT等代币)
                  - 数据保存  
                    2. 采集到的数据封装为统一的（TokenInfo）数据结构
                      - 数据HASH上签名上链 （时间戳+数据HASH）
                      - 保存到本地数据存储(时序数据库) 

              2. 查询数字通证价格 
                  -  获取token价格信息方式分为(token和时间戳的不同组合查询)
                      1. （token名称）HASH获取对应得链上该token所有数据(时间戳+数据hash)
                      2. （时间戳+token名称）HASH获取token当前时间戳价格信息
                    - 通过链上hash查询token信息
                      1. 根据需求获取对应的hash到时序数据库查询token详细信息

              3. 提供去中心化数据验证服务功能
              4. 提供去中心化数据统计服务功能
              5. 提供去中心化数据分析服务功能
              6. 提供去中心化网格交易服务功能
              7. 智能合约业务

     区块链角色：收集者节点  验证者节点 白皮书、经济模型会用到这些概念

  ### 二、技术组件选择

            1. 区块链组件框架 substrate
            2. 数据库组件
              - RocksDb
              - 时序数据库(待定)
            3. 分布式存储组件IPFS
            4. 链下分析服务组件(待定)   
            5. 链下数据爬取服务
              - 第三方爬取服务

  ## 三、 技术设计

            1. token基本信息结构
                数据结构设计：
                struct TokenInfo {
                    name token 名称
                    price token 价格
                    exchange 查询交易所来源
                    timestamp 链上时间戳
                }
            2. 链上存储结构
            3. 对外可调用函数   
             

## learn doc




